(()=>{"use strict";const e=function(){return window.location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/"},t=function(){var e=document.createElement("div");return e.innerHTML='<div class="footer"> <div class="footer-title"> <p>KHENDRA © 2021</p> </div> <ul class="footer-link"> <li><a href="#/asdadasdasdadad">YOUTUBE</a></li> <li><a href="#/asdadasdasdadad">TWITTER</a></li> <li><a href="#/asdadasdasdadad">POLITICA DE PRIVACIDAD</a></li> </ul> </div>',e};var r=function(e){for(var t="",r="abcdefghijklmnopqrstuvwxyz123456789",i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t};const i=function(){var e=document.createElement("div");e.innerHTML='<div class="header-content-space"> <header class="header-template"> <div class="logo-content"> <a href="#/home"> <h4>KHENDRA</h4> </a> </div> <div class="header-perfil"> <img src="https://khendra.s3.amazonaws.com/assets/perfil.png" alt="foto-perfil" id="perfil"> <i class="bx bxs-down-arrow"></i> <div class="header-options none" id="options"> <ul class="option"> <li><a href="#/perfil"><i class="bx bxs-user"></i>Perfil</a></li> <li class="none" id="kcreators"><a href="#/panel"><i class="bx bxl-creative-commons"></i>KHENDRA CREATORS</a></li> <li id="salir-system"><a href="#/"><i class="bx bxs-left-arrow-circle"></i>Salir</a></li> </ul> </div> </div> </header> </div>';var t=e.querySelector(".bxs-down-arrow"),r=e.querySelector("#kcreators"),i=e.querySelector("#salir-system");return t.addEventListener("click",(function(){e.querySelector("#options").classList.toggle("none")})),i.addEventListener("click",(function(){window.localStorage.removeItem("DBAuthUser")})),!0===JSON.parse(localStorage.getItem("DBAuthUser")).find((function(e){return e}))[0].isAdmin&&r.classList.remove("none"),e};var n=function(e){var t=JSON.parse(localStorage.getItem("DBCurso"));return e?t.filter((function(t){return e===t.id})):t},o=function e(t){var r=t.id,i=t.nombre,n=t.apellido,o=t.correo,a=t.dni,c=t.nickname,s=t.contraseña,l=t.fecha_nacimiento,d=t.isAdmin;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.nombre=i,this.apellido=n,this.correo=o,this.dni=a,this.nickname=c,this.fecha_nacimiento=l,this.contraseña=s,this.isAdmin=d};const a=function(){var e=document.createElement("div");return e.innerHTML='<header class="header-page404"> <div class="hero-page404"> <div class="hero-image404"> <img src="https://khendra.s3.amazonaws.com/assets/astronauta.svg" alt="astronauta-svg" id="astronauta"> </div> <div class="hero-texto404"> <div class="texto404"> <h2>¡Oh, no!</h2> <p class="texto-info">parece que hay un problema, pero estamos trabajando en ello.</p> <p class="texto-redireccion"> Siempre estamos mejorando nuestra plataforma, ¡así que lo solucionaremos pronto! Mientras tanto, puedes volver a la <a href="#/home" class="redireccion">página de inicio.</a></p> </div> </div> </div> </header>',e};var c=function e(t){var r=t.id,i=t.nombre_curso,n=t.descripcion_curso,o=t.duracion,a=t.img_curso,c=t.img_docente,s=t.nombre_docente;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.nombre_curso=i,this.descripcion_curso=n,this.duracion=o,this.img_curso=a,this.img_docente=c,this.nombre_docente=s},s=function(e){var t=[];return null===localStorage.getItem("DBClase")?(t.push(e),localStorage.setItem("DBClase",JSON.stringify(t))):((t=JSON.parse(localStorage.getItem("DBClase"))).push(e),localStorage.setItem("DBClase",JSON.stringify(t)))},l=function e(t){var r=t.id_clase,i=t.nombre_clase,n=t.descripcion_clase,o=t.url,a=t.curso_id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_clase=r,this.nombre_clase=i,this.descripcion_clase=n,this.url=o,this.curso_id=a},d={"/":function(){var e=document.createElement("div");return e.innerHTML='<div class="landing-page"> <header class="header-landing"> <nav> <div class="logo-content"> <h4>KHENDRA</h4> </div> <a href="#/login" class="btn">INICIAR SESION</a> </nav> <div class="hero"> <div class="hero-image"> <img src="https://khendra.s3.amazonaws.com/assets/hero-student.svg" alt="img-hero" id="hero"> </div> <div class="hero-text"> <h1>BIENVENIDO A KHENDRA</h1> <p>Fórmate online como profesional en tecnología.</p> </div> </div> </header> <main class="main-landing"> <section class="contribuidores-landing"> <div class="contribuidores-chidren"> <h3>ADRA</h3> <p>Agencia Adventista de Desarrollo y Recursos Asistenciales </p> </div> <div class="contribuidores-chidren"> <h3>UPeU</h3> <p>Universidad Peruana Union</p> </div> </section> <section class="beneficios-landing"> <div class="beneficios-image"> <img src="https://khendra.s3.amazonaws.com/assets/beneficios.svg" alt="img-beneficios" id="beneficios"> </div> <div class="beneficios-text"> <h4>Beneficios de estudiar de manera online en KHENDRA</h4> <div class="beneficios-listado"> <ul> <li><i class="bx bx-time-five"></i>Cuantas horas quieras.</li> <li><i class="bx bx-calendar-week"></i>En el momento que desees.</li> <li><i class="bx bx-edit"></i>El curso que te guste.</li> </ul> </div> </div> </section> </main> <footer class="footer-landing"> </footer> </div>',e.querySelector(".footer-landing").appendChild(t()),e},"/home":function(){var e=document.createElement("div");e.innerHTML='<header class="header-home"></header> <main class="main-home"> <section class="hero-home" id="hero_home"> <div id="hero_container_course" class="container-carrusel"> </div> </section> <section class="cursos-kendra"> <h2>CURSOS EN KHENDRA</h2> <section class="carrusel-home" id="carrusel_home"> </section> </section> </main> <footer id="footer_home" class="footer-home"> </footer>',e.querySelector(".header-home").appendChild(i()),e.querySelector("#footer_home").appendChild(t());var r=n()||[],o=e.querySelector("#carrusel_home");r.map((function(e){o.innerHTML+='\n    <a href="'.concat("/SPA-KHENDRA","/#/").concat(e.id,'">\n    <div class="card-item">\n      <div class="card-image">\n          <img src="').concat(e.img_curso,'"\n            alt="">\n      </div>\n      <div class="card-info">\n          <div class="title">\n              <p>').concat(e.nombre_curso,"</p>\n          </div>\n          <div class=\"icon\">\n              <i class='bx bx-time'></i>\n              <p>6h</p>\n          </div>\n      </div>\n    </div>\n    </a>\n    ")}));var a=e.querySelector("#hero_container_course");r.map((function(e){a.innerHTML+='\n    <div class="hero-item-course">\n    <img src="'.concat(e.img_curso,'"alt="">\n    <div class="textos-hero-home">\n        <h3>').concat(e.nombre_curso,'</h3>\n        <a href="#/').concat(e.id,'" class="btn">VER AHORA <i class=\'bx bx-play-circle\'></i></a>\n    </div>\n    </div>\n    ')}));var c=100;return r.length>1&&setInterval((function(){a.style.transform="translateX(-".concat(c,"%)"),(c+=100)==100*r.length&&(c=0)}),5e3),e},"/panel":function(){var e=document.createElement("div");e.innerHTML='<div class="panel-title-page"> <h2>Panel de Control</h2> </div> <div class="panel-nuevo-curso"> <button type="submit" class="btn btn-nuevocurso">Crear Curso</button> <div class="nuevo-curso-container none"> <form class="form-nuevo-curso"> <input class="nombre-curso input-principal" type="text" placeholder="Nombre del Curso" id="nombre_curso"> <input class="imagen-curso input-principal" type="url" placeholder="URL de la imagen del Curso" id="imagen_curso"> <textarea rows="10" class="input-principal" id="descripcion_curso" placeholder="Descripcion del curso a crear...."></textarea> <input class="imagen-curso input-principal" type="url" placeholder="URL de la imagen del Docente" id="imagen_docente"> <input class="nombre-curso input-principal" type="text" placeholder="Nombre del Docente" id="nombre_docente"> <div class="btn-group-curso"> <button class="btn" type="submit" id="btn_cancelar">CANCELAR</button> <button class="btn" type="submit" id="btn_guardar">GUARDAR</button> </div> </form> </div> </div> <div class="panel-container-table"> <table class="table-curso" id="table_curso"></table> </div>';var t=n()||[],i=e.querySelector(".btn-nuevocurso"),o=e.querySelector("#btn_cancelar"),a=e.querySelector("#btn_guardar"),s=e.querySelector("#table_curso");function l(){e.querySelector(".nuevo-curso-container").classList.toggle("none"),e.querySelector("#nombre_curso").value="",e.querySelector("#imagen_curso").value="",e.querySelector("#descripcion_curso").value=""}i.addEventListener("click",(function(){e.querySelector(".nuevo-curso-container").classList.toggle("none")})),a.addEventListener("click",(function(t){t.preventDefault();var i=e.querySelector("#nombre_curso").value.trim(),n=e.querySelector("#imagen_curso").value.trim(),o=e.querySelector("#descripcion_curso").value.trim(),a=e.querySelector("#imagen_docente").value.trim(),s=e.querySelector("#nombre_docente").value.trim(),d=new c({id:r(3).toLowerCase(),nombre_curso:i,descripcion_curso:o,img_curso:n,duracion:"6h",img_docente:a,nombre_docente:s});return""===(d.nombre_curso&&d.descripcion_curso&&d.img_curso)?Swal.fire({title:"Complete los campos...",icon:"warning"}):(function(e){var t=[];null===localStorage.getItem("DBCurso")?(t.push(e),localStorage.setItem("DBCurso",JSON.stringify(t))):((t=JSON.parse(localStorage.getItem("DBCurso"))).push(e),localStorage.setItem("DBCurso",JSON.stringify(t)))}(d),Swal.fire({title:"Curso Registrado Correctamente",icon:"success"}),l(),window.location.hash="#/panel",window.location.reload())})),o.addEventListener("click",(function(e){e.preventDefault(),l()})),s.innerHTML=" <tr> <th>ID</th> <th>Nombre</th> <th>URL</th> <th>Descripcion</th> <th>Contenido</th> <th>Editar</th> <th>Eliminar</th> </tr>",t.map((function(e){s.innerHTML+="\n        <tr>\n            <td>".concat(e.id,"</td>\n            <td>").concat(e.nombre_curso,"</td>\n            <td>").concat(e.img_curso,"</td>\n            <td>").concat(e.descripcion_curso,"</td>\n            <td><i class='bx bxs-book-content' title=\"add\"></i></td>\n            <td><i class='bx bxs-edit' title=\"edit\"></i></td>\n            <td><i class='bx bxs-trash' title=\"delete\"></i></td>\n        </tr>")})),s.addEventListener("click",(function(e){e.preventDefault(),"add"===e.target.title?(console.log("add"),window.location.hash="#/content/".concat(e.path[3].childNodes[0].childNodes[1].innerHTML)):"edit"===e.target.title?(console.log("edit"),window.location.hash="#/content/".concat(e.path[3].childNodes[0].childNodes[1].innerHTML)):"delete"===e.target.title&&d(e.path[3].childNodes[0].childNodes[1].innerHTML)}));var d=function(e){var r,i;t.map((function(t,i){t.id===e&&(r=i)})),t.splice(r,1),console.log(t),i=t,localStorage.setItem("DBCurso",JSON.stringify(i)),window.location.reload()};return e},"/login":function(){var e=document.createElement("div");return e.innerHTML='<div class="auth-page"> <h2>INICIAR SESIÓN</h2> <form class="form-auth"> <input type="text" class="input-field" id="correo" placeholder="correo electronico"> <input type="password" class="input-field" id="contraseña" placeholder="contraseña"> <button type="submit" class="btn" id="btn-inicio">INICIAR SESION</button> </form> <p class="message-redireccion">No tienes una cuenta ? <a href="#/register">REGISTRATE</a> </p> </div>',e.querySelector(".form-auth").addEventListener("submit",(function(t){t.preventDefault();var r=e.querySelector("#correo").value.trim(),i=e.querySelector("#contraseña").value.trim();if(""===(r&&i))return Swal.fire({title:"Rellena los Campos...",icon:"warning"});var n,o,a=function(e,t){return(JSON.parse(localStorage.getItem("DBUsuarios"))||[]).filter((function(r){return r.correo===e&&r.contraseña===t}))}(r,i);return a.length>0?(Swal.fire({title:"Bienvenido",icon:"success"}),!0===a[0].isAdmin&&Swal.fire({title:"Bienvenido señor Administrador",icon:"success"}),window.localStorage.removeItem("DBAuthUser"),n=a,o=[],null===localStorage.getItem("DBAuthUser")?(o.push(n),localStorage.setItem("DBAuthUser",JSON.stringify(o))):((o=JSON.parse(localStorage.getItem("DBAuthUser"))).push(n),localStorage.setItem("DBAuthUser",JSON.stringify(o))),window.location.hash="#/home"):Swal.fire({title:"No encontramos tu cuenta Registrate",icon:"error"})})),e},"/register":function(){var e=document.createElement("div");return e.innerHTML='<div class="auth-page"> <h2>REGISTRARSE</h2> <form class="form-auth"> <input type="text" class="input-field" id="nombre" placeholder="nombre"> <input type="text" class="input-field" id="apellido" placeholder="apellido"> <input type="email" class="input-field" id="correo" placeholder="correo electronico"> <input type="text" class="input-field" id="dni" placeholder="dni"> <input type="text" class="input-field" id="nickname" placeholder="nickname"> <input type="date" class="input-field" id="fecha_nacimiento" placeholder="fecha de nacimiento"> <input type="password" class="input-field" id="contraseña" placeholder="contraseña"> <button type="submit" class="btn" id="btn-register">REGISTRARSE</button> </form> <p class="message-redireccion">Tienes una cuenta ? <a href="#/login">INICIA SESIÓN</a> </p> </div>',e.querySelector(".form-auth").addEventListener("submit",(function(t){t.preventDefault();var i=e.querySelector("#nombre").value.trim(),n=e.querySelector("#apellido").value.trim(),a=e.querySelector("#correo").value.trim(),c=e.querySelector("#dni").value.trim(),s=e.querySelector("#nickname").value.trim(),l=e.querySelector("#fecha_nacimiento").value.trim(),d=e.querySelector("#contraseña").value.trim(),u=new o({id:r(3),nombre:i,apellido:n,correo:a,dni:c,nickname:s,fecha_nacimiento:l,contraseña:d,isAdmin:!1});return""===(u.nombre&&u.apellido&&u.correo&&u.dni&&u.nickname&&u.fecha_nacimiento&&u.contraseña&&u.isAdmin)?Swal.fire({title:"Complete los campos...",icon:"warning"}):(function(e){var t=[{id:r(3),nombre:"khendra",apellido:"khendra",correo:"khendra@gmail.com",dni:"30482145",nickname:"khendra",contraseña:"admin123",fecha_nacimiento:"29/01/2002",isAdmin:!0}];null===localStorage.getItem("DBUsuarios")?(t.push(e),localStorage.setItem("DBUsuarios",JSON.stringify(t))):((t=JSON.parse(localStorage.getItem("DBUsuarios"))).push(e),localStorage.setItem("DBUsuarios",JSON.stringify(t)))}(u),Swal.fire({title:"Usuario Registrado Correctamente",icon:"success"}),window.location.hash="#/login")})),e},"/content":function(){var e=document.createElement("div");e.innerHTML='<div class="course-content"> <div class="form-curso-principal"> <input type="text" class="titulo-curso inputCourseContent" id="titulo_curso" placeholder="Titulo del Curso"> <input type="text" class="img-course inputCourseContent" id="img_curso" placeholder="Imagen del curso"> <textarea class="descripcion-curso inputCourseContent" id="desccripcion_curso" placeholder="Descripcion del Curso"></textarea> </div> <button class="btn btn-nuevaClase" id="nueva_clase">Nueva Clase</button> <div class="form-curso-content"> </div> <div class="btn-group-clases"> <button class="btn" type="submit" id="btn_guardar_clase">GUARDAR</button> </div> </div>';var t=e.querySelector("#titulo_curso"),i=e.querySelector("#img_curso"),o=e.querySelector("#desccripcion_curso"),a=function(){var e=window.location.hash.split("/")[2];return(n()||[]).filter((function(t){return t.id===e}))};t.value="".concat(a()[0].nombre_curso),i.value="".concat(a()[0].img_curso),o.value="".concat(a()[0].descripcion_curso);var c=e.querySelector("#nueva_clase"),d=e.querySelector(".form-curso-content");return c.addEventListener("click",(function(){var e=document.createElement("div");e.classList.add("content_input"),e.setAttribute("id","content_input_class");var t=document.createElement("input");t.setAttribute("placeholder","Nombre de la clase"),t.classList.add("inputCourseContent"),t.setAttribute("id","input_nombre"),t.setAttribute("required","");var r=document.createElement("textarea");r.setAttribute("placeholder","Descripcion de la clase"),r.classList.add("inputCourseContent"),r.setAttribute("id","input_descripcion"),r.setAttribute("required","");var i=document.createElement("input");i.setAttribute("placeholder","Video de la clase"),i.setAttribute("type","url"),i.classList.add("inputCourseContent"),i.setAttribute("id","input_video"),i.setAttribute("required",""),e.appendChild(t),e.appendChild(r),e.appendChild(i),d.appendChild(e)})),e.querySelector("#btn_guardar_clase").addEventListener("click",(function(){for(var t=window.location.hash.slice(1).toLocaleLowerCase().split("/")[2],i=e.querySelector(".form-curso-content").querySelectorAll(".content_input"),n=0;n<i.length;n++){var o=i[n].querySelector("#input_nombre").value.trim(),a=i[n].querySelector("#input_descripcion").value.trim(),c=i[n].querySelector("#input_video").value.trim();if(""===(o&&a&&c))return Swal.fire({title:"Rellena los Campos de la clase",icon:"warning"});var d=new l({id_clase:r(5),nombre_clase:o,descripcion_clase:a,url:c,curso_id:t});s(d),Swal.fire({title:"Clase guardada correctamente",icon:"success"})}})),e},"/:id":function(){var r=document.createElement("div");r.innerHTML='<header class="header-home"></header> <main class="main-infoCourse"> <section class="hero-infoCourse"> <img src="https://khendra.s3.amazonaws.com/assets/campaign-creators-gMsnXqILjp4-unsplash.jpg" alt="Imagen del curso" id="img_course" class="img_course"> <div class="textos-hero-infoCourse"> <div> <h3 id="texto_course">INGENIERIA DE REQUERIMIENTOS</h3> <p id="description_course">Descripcion del curso</p> </div> <a class="btn" id="btn-inscribirse">INSCRIBIRSE <i class="bx bxs-right-arrow-circle"></i></a> <div class="educador-course"> <img alt="foto-perfil" id="foto_perfil"> <p id="nombre_docente">Luis Fabrizio</p> </div> </div> </section> <section class="clases-infoCourse"> <h3>CLASES DEL CURSO</h3> <ul class="content-clases"> </ul> </section> </main> <footer class="footer-info" id="footer_info"> </footer>';var o,a=r.querySelector("#btn-inscribirse"),c=e(),s=(o=c,(JSON.parse(localStorage.getItem("DBClase"))||[]).filter((function(e){return o===e.curso_id}))||[]);r.querySelector(".header-home").appendChild(i()),r.querySelector("#footer_info").appendChild(t());var l=n(c);r.querySelector("#img_course").src="".concat(l[0].img_curso),r.querySelector("#texto_course").textContent="".concat(l[0].nombre_curso),r.querySelector("#description_course").textContent="".concat(l[0].descripcion_curso),r.querySelector("#foto_perfil").src="".concat(l[0].img_docente),r.querySelector("#nombre_docente").textContent="".concat(l[0].nombre_docente),a.addEventListener("click",(function(){a.innerHTML="INSCRITO <i class='bx bx-check'></i>"}));var d=r.querySelector(".content-clases");return s.map((function(e){d.innerHTML+='\n    <a href="#/clase/'.concat(e.id_clase,'">\n      <li><span>').concat(e.nombre_clase,"</span><i class='bx bx-play-circle'></i></li>\n    </a>\n    ")})),r},"/clase":function(){var e=document.createElement("div");e.innerHTML='<header class="header-previusClases"></header> <main class="main-previusClase"> <section class="video-clase"> <div class="video"> </div> <div class="texto-clase"> <h4 id="titulo_clase"></h4> <p id="descricion_clase"></p> </div> </section> </main> <footer id="footer_previusClases"></footer>',e.querySelector(".header-previusClases").appendChild(i()),e.querySelector("#footer_previusClases").appendChild(t());var r,n,o=window.location.hash.slice(1).toLocaleLowerCase().split("/")[2],a=(r=o,n=JSON.parse(localStorage.getItem("DBClase")),r?n.filter((function(e){return r===e.id_clase})):n);return function(){e.querySelector("#titulo_clase").innerHTML="".concat(a[0].nombre_clase),e.querySelector("#descricion_clase").innerHTML="".concat(a[0].descripcion_clase);var t=e.querySelector(".video"),r=a[0].url.slice(1).split("/")[3];t.innerHTML='<iframe\n    src="https://www.youtube.com/embed/'.concat(r,'"\n    title="KHENDRA video player"\n    frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope"\n    allowfullscreen\n  ></iframe>;')}(),e}},u=document.querySelector(".root");const m=function(){u.innerHTML="";var t=function(e){return e.length<=3?"/"===e?e:"/:id":"/".concat(e)}(e()),r=d[t]?d[t]:a;u.appendChild(r())};window.addEventListener("load",(function(){m()})),window.addEventListener("hashchange",(function(){m()}))})();